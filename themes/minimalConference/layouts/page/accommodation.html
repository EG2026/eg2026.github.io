{{ define "main" }}
  <h2 id="accommodation">{{ T "accommodation" }}</h2>
  <div id="simple-static"></div>

  <div class="map-consent" data-map-src="https://www.google.com/maps/d/u/0/embed?mid=1IbGKMyZ-iShkBG-ztw8P9gzicUTe5-4&ehbc=2E312F&noprof=1">


    <p class="map-consent__notice">
        To display the map, we need to load content from Google Maps. This may transmit your IP address and set cookies.
        {{/*  See our <a href="/privacy" target="_blank" rel="noopener">privacy policy</a> for details.  */}}
    </p>


    <button type="button" class="map-consent__btn">Load Google Map</button>
    <p class="map-consent__alt">
      {{/*  Prefer not to? You can open the location directly in a new tab:
      <a href="https://maps.google.com/?q=Aachen" target="_blank" rel="noopener">Open in Google Maps</a>.  */}}
    </p>
  </div>

  
  <script>
    (function () {
      var box = document.querySelector('.map-consent');
      if (!box) return;

      var MAP_KEY = 'eg2026_map_consent';
      var saved = (function(){ try { return localStorage.getItem(MAP_KEY) === '1'; } catch(e) { return false; } })();
      var src = box.getAttribute('data-map-src');

      function injectMap() {
        // Create a responsive container using aspect-ratio
        var wrap = document.createElement('div');
        wrap.className = 'map-container';
        var iframe = document.createElement('iframe');
        iframe.setAttribute('loading', 'lazy');
        iframe.setAttribute('referrerpolicy', 'no-referrer-when-downgrade');
        iframe.setAttribute('allowfullscreen', '');
        iframe.src = src;
        wrap.appendChild(iframe);
        box.replaceWith(wrap);
      }

      if (saved) {
        injectMap();
        return;
      }

      var btn = box.querySelector('.map-consent__btn');
      if (btn) {
        btn.addEventListener('click', function () {
          try { localStorage.setItem(MAP_KEY, '1'); } catch(e) {}
          injectMap();
        });
      }
    })();
  </script>

    {{ .Content }}


{{ end }}
